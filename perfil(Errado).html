<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#000000"> <!-- Cor da barra de navega√ß√£o no mobile -->
  <meta name="mobile-web-app-capable" content="yes"> <!-- Habilita o web app no mobile -->
  <meta name="apple-mobile-web-app-capable" content="yes"> <!-- Compatibilidade com iOS -->
  <meta name="apple-mobile-web-app-title" content="Seu App"> <!-- Nome do app no iOS -->
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"> <!-- Barra de status no iOS -->
  <meta name="description" content="Descri√ß√£o do seu site ou app para SEO">
  <meta name="keywords" content="palavras-chave, mobile, app, site">
  <meta name="author" content="Seu Nome">
  <link rel="icon" href="favicon.ico" type="image/x-icon"> <!-- √çcone do site -->
  <link rel="apple-touch-icon" href="icon-192.png"> <!-- √çcone para iOS -->
  <link rel="manifest" href="manifest.json"> <!-- Manifest para web apps progressivos -->
  <link rel="stylesheet" href="styles.css"> <!-- Link para o CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com"> <!-- Otimiza√ß√£o para fontes -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"> <!-- Fonte Google -->
  <title>A-Grade(Perfil)</title>
  <style>
 body {
  font-family: 'Courier New', monospace;
  margin: 0;
  padding: 0;
  background-color: black;
  color: #00FF00; /* Verde neon */
  text-shadow: 0 0 10px #00FF00;
}

.profile-container {
  max-width: 1000px;
  margin: auto;
  background: rgba(0, 0, 0, 0.5); /* Fundo quase transparente */
  background-image: url('eecdb55768e30c90fe9e91ba6db1e9b0.jpg');
  background-size: cover;
  background-blend-mode: overlay;
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 0 20px rgba(0, 255, 0, 0.8), 0 0 50px rgba(0, 255, 0, 0.5);
  border: 2px solid #00FF00; /* Borda verde neon */
}

.profile-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 20px;
}

.cover-photo {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 15px;
  margin-bottom: 20px;
  box-shadow: 0 0 15px #00FF00, 0 0 25px rgba(0, 255, 0, 0.5);
}

.profile-photo {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  border: 5px solid #00FF00; /* Borda verde neon */
  object-fit: cover;
  margin-top: -75px;
  margin-bottom: 20px;
  box-shadow: 0 0 20px #00FF00;
}

.profile-info {
  text-align: center;
}

.profile-info h1 {
  margin: 0;
  font-size: 32px;
  color: #00FF00; /* Verde neon */
  text-shadow: 0 0 15px #00FF00, 0 0 25px rgba(0, 255, 0, 0.8);
}

.profile-info p {
  margin: 5px 0;
  color: #FF00FF; /* Roxo neon */
  text-shadow: 0 0 10px #FF00FF, 0 0 20px rgba(255, 0, 255, 0.5);
}

.profile-container form {
  margin-bottom: 20px;
}

.profile-container input,
.profile-container textarea,
.profile-container select {
  width: 100%;
  padding: 12px;
  margin-bottom: 10px;
  border: 2px solid #00FF00; /* Borda verde neon */
  border-radius: 10px;
  background-color: black;
  color: #FF00FF; /* Texto roxo neon */
  box-shadow: 0 0 15px #00FF00, 0 0 30px rgba(0, 255, 0, 0.5);
  transition: all 0.3s ease-in-out;
}

.profile-container input:focus,
.profile-container textarea:focus,
.profile-container select:focus {
  border-color: #FF00FF;
  box-shadow: 0 0 20px #FF00FF, 0 0 30px rgba(255, 0, 255, 0.5);
  outline: none;
}

.profile-container button {
  padding: 12px 25px;
  background-color: black;
  color: #00FF00; /* Verde neon */
  border: 2px solid #FF0000; /* Borda vermelha neon */
  border-radius: 10px;
  cursor: pointer;
  box-shadow: 0 0 20px #FF0000, 0 0 30px rgba(255, 0, 0, 0.8);
  transition: all 0.3s ease-in-out;
  text-transform: uppercase;
}

.profile-container button:hover {
  background-color: #FF0000; /* Vermelho neon */
  color: black;
  box-shadow: 0 0 30px #FF0000, 0 0 50px rgba(255, 0, 0, 1);
}

.profile-container input[type="file"] {
  padding: 0;
}

/* Elementos din√¢micos */
.profile-container input::placeholder,
.profile-container textarea::placeholder {
  color: #00FF00;
  opacity: 0.8;
  text-shadow: 0 0 10px #00FF00;
}

.profile-container input:hover,
.profile-container textarea:hover {
  background-color: rgba(0, 0, 0, 0.8);
  color: #00FF00;
}
  </style>
</head>
<body>
  <div class="profile-container">
    <!-- Imagem de Capa -->
    <img id="cover-photo" src="default-cover.jpg" alt="Imagem de Capa" class="cover-photo" />

    <!-- Cabe√ßa do Perfil -->
    <div class="profile-header">
      <img id="profile-photo" src="default-profile.jpg" alt="Foto de Perfil" class="profile-photo" />
      <div class="profile-info">
        <h1 id="name">Nome do Usu√°rio</h1>
        <p id="age">‚åõIdade: 0</p>
        <p id="gender">‚ôÇÔ∏èG√™nero‚ôÄÔ∏è: N√£o especificado</p>
        <p id="bio"> üìñBiografia do usu√°rio.</p>
      </div>
    </div>

    <!-- Formul√°rio de Edi√ß√£o de Perfil -->
    <form id="profile-form">
  <h2>Perfil do Usu√°rio</h2>

  <!-- Informa√ß√µes B√°sicas -->
  <label for="name-input">Nome Completo:</label>
  <input type="text" id="name-input" placeholder="Nome" value="Ricardo Tau" required />
  <h3>M√∫sica do Perfil</h3>
  <!-- e um player pra dar play -->
<input type="file" id="profile-music" accept="audio/*" />

  <label for="age-input">Idade:</label>
  <input type="number" id="age-input" placeholder="Idade" value="27" required />

  <label for="gender-input">G√™nero:</label>
  <select id="gender-input" required>
    <option value="">Selecione o g√™nero</option>
    <option value="Masculino" selected>Masculino</option>
    <option value="Feminino">Feminino</option>
    <option value="Outro">Outro</option>
  </select>
<!-- ter op√ßoes inves de input -->
  <label for="marital-status-input">Estado Civil:</label>
  <input type="text" id="marital-status-input" placeholder="Estado Civil" value="Solteiro" />

  <label for="bio-input">Biografia:</label>
  <textarea id="bio-input" placeholder="Biografia" required>Entusiasta de tecnologia e criador de ideias inovadoras.</textarea>

  <label for="birthday-input">Data de Anivers√°rio:</label>
  <input type="date" id="birthday-input" value="1997-07-12" required />
<!-- lista de religioes -->
  <label for="religion-input">Religi√£o:</label>
  <input type="text" id="religion-input" placeholder="Religi√£o" value="Sem religi√£o" />










  

  <label for="hobbies-input">Hobbies e Interesses:</label>
  <textarea id="hobbies-input" placeholder="Hobbies e Interesses">Programa√ß√£o, Jogos FPS, Filmes de terror, Hist√≥ria</textarea>

  

  <label for="instagram-input">Instagram:</label>
  <input type="url" id="instagram-input" placeholder="Link do Instagram" value="https://instagram.com/seu_perfil" />

  <label for="linkedin-input">LinkedIn:</label>
  <input type="url" id="linkedin-input" placeholder="Link do LinkedIn" value="https://linkedin.com/in/seu_perfil" />

  <!-- Imagens -->
  <h3>Imagens</h3>
  <label for="photo-input">Foto do Perfil:</label>
  <input type="file" id="photo-input" accept="image/*" />

  <label for="background-input">Foto de Fundo:</label>
  <input type="file" id="background-input" accept="image/*" />




<br>


  <!-- Bot√£o de Salvar -->
  <button type="submit">Salvar Altera√ß√µes</button>
  <button type="button" id="export-json-button">Exportar Dados</button>
<pre id="json-preview"></pre>
  <button type="button" id="logout-button">Sair da Conta</button>
<button type="button" id="delete-account-button">Excluir Conta</button>
</form>
  </div>

  <!-- Scripts do Firebase -->
<script type="module">
    // Importando as depend√™ncias do Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-database.js";
    import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-auth.js";
    import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-firestore.js";
    import { getStorage, ref as storageRef, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-storage.js";
    import { getFunctions, httpsCallable } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-functions.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-analytics.js";
    import { getRemoteConfig } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-remote-config.js";

    // Configura√ß√£o inicial do Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyBp0QRdqod_68ARBfJlDfZQBX4sg1Du_o4",
      authDomain: "socialnetwork021-fad5a.firebaseapp.com",
      databaseURL: "https://socialnetwork021-fad5a-default-rtdb.firebaseio.com",
      projectId: "socialnetwork021-fad5a",
      storageBucket: "socialnetwork021-fad5a.appspot.com",
      messagingSenderId: "1040846806964",
      appId: "1:1040846806964:web:b7b873170deeb8ed785ce1",
      measurementId: "G-0NC44RCWV6"
    };

    // Inicializar o Firebase
    const app = initializeApp(firebaseConfig);

    // Inicializar os servi√ßos do Firebase
    const database = getDatabase(app);
    const auth = getAuth(app);
    const firestore = getFirestore(app);
    const storage = getStorage(app);
    const functions = getFunctions(app);
    const analytics = getAnalytics(app);
    const remoteConfig = getRemoteConfig(app);

    // Fun√ß√£o para autentica√ß√£o
    async function login(email, password) {
      try {
        const userCredential = await signInWithEmailAndPassword(auth, email, password);
        console.log('Usu√°rio autenticado:', userCredential.user);
      } catch (error) {
        console.error('Erro ao autenticar:', error.message);
      }
    }

    // Exemplo de monitoramento de mudan√ßas no banco de dados
    const dbRef = ref(database, 'path/to/data');
    onValue(dbRef, (snapshot) => {
      const data = snapshot.val();
      console.log(data);
    });

    // Exemplo de upload e recupera√ß√£o de arquivos no Storage
    const fileRef = storageRef(storage, 'path/to/file');
    uploadBytes(fileRef, file).then(() => {
      getDownloadURL(fileRef).then((url) => {
        console.log('Arquivo dispon√≠vel em:', url);
      });
    });

    // Exemplo de chamada a uma fun√ß√£o do Firebase
    const customFunction = httpsCallable(functions, 'myCustomFunction');
    customFunction({ someData: 'value' }).then(result => {
      console.log('Resultado da fun√ß√£o:', result.data);
    });


    // Fun√ß√£o para carregar perfil do usu√°rio
    const loadUserProfile = async () => {
      const user = auth.currentUser;
      if (user) {
        try {
          const userRef = storage.ref(`profilePhotos/${user.uid}`);
          const coverRef = storage.ref(`coverPhotos/${user.uid}`);

          const [photoURL, coverURL] = await Promise.all([
            userRef.getDownloadURL().catch(() => 'default-profile.jpg'),
            coverRef.getDownloadURL().catch(() => 'default-cover.jpg')
          ]);

          document.getElementById('profile-photo').src = photoURL;
          document.getElementById('cover-photo').src = coverURL;

          const userProfileRef = database.ref(`users/${user.uid}`);
          const userProfileSnapshot = await userProfileRef.once('value');
          const userProfile = userProfileSnapshot.val() || {};

          document.getElementById('name').textContent = userProfile.displayName || 'Nome do Usu√°rio';
          document.getElementById('age').textContent = `‚åõIdade: ${userProfile.age || 'N√£o especificada'}`;
          document.getElementById('gender').textContent = `‚ôÇÔ∏è‚ôÄÔ∏èG√™nero: ${userProfile.gender || 'N√£o especificado'}`;
          document.getElementById('bio').textContent = userProfile.bio || 'Biografia do usu√°rio.';
        } catch (error) {
          console.error('Erro ao carregar perfil:', error);
        }
      } else {
        console.error('Usu√°rio n√£o autenticado. Fa√ßa login para acessar esta p√°gina.');
      }
    };

    // Fun√ß√£o para salvar perfil do usu√°rio
    const saveUserProfile = async (e) => {
      e.preventDefault();
      const user = auth.currentUser;
      if (user) {
        try {
          const name = document.getElementById('name-input').value;
          const age = document.getElementById('age-input').value;
          const gender = document.getElementById('gender-input').value;
          const bio = document.getElementById('bio-input').value;
          const photoFile = document.getElementById('photo-input').files[0];
          const coverFile = document.getElementById('cover-input').files[0];

          let photoURL = user.photoURL || 'default-profile.jpg';
          let coverURL = user.coverURL || 'default-cover.jpg';

          if (photoFile) {
            const photoRef = storage.ref(`profilePhotos/${user.uid}`);
            await photoRef.put(photoFile);
            photoURL = await photoRef.getDownloadURL();
          }

          if (coverFile) {
            const coverRef = storage.ref(`coverPhotos/${user.uid}`);
            await coverRef.put(coverFile);
            coverURL = await coverRef.getDownloadURL();
          }

          // Atualizar o perfil do usu√°rio com o nome e URL das fotos
          await user.updateProfile({ displayName: name, photoURL });

          // Salvar idade, g√™nero e biografia no Realtime Database
          const userProfileRef = database.ref(`users/${user.uid}`);
          await userProfileRef.set({
            displayName: name,
            age,
            gender,
            bio,
            photoURL,
            coverURL
          });

          // Atualizar os elementos da p√°gina
          document.getElementById('profile-photo').src = photoURL;
          document.getElementById('cover-photo').src = coverURL;
          document.getElementById('name').textContent = name;
          document.getElementById('age').textContent = `Idade: ${age}`;
          document.getElementById('gender').textContent = `G√™nero: ${gender}`;
          document.getElementById('bio').textContent = bio;
        } catch (error) {
          console.error('Erro ao salvar perfil:', error.message || error);
          alert('Ocorreu um erro ao salvar o perfil. Verifique o console para detalhes.');
        }
      } else {
        console.error('Usu√°rio n√£o autenticado. Fa√ßa login para acessar esta p√°gina.');
        alert('Usu√°rio n√£o autenticado. Fa√ßa login para acessar esta p√°gina.');
      }
    };

    // Adicionar listener ao formul√°rio
    document.getElementById('profile-form').addEventListener('submit', saveUserProfile);

    // Carregar perfil do usu√°rio ao iniciar
    auth.onAuthStateChanged((user) => {
      if (user) {
        loadUserProfile();
      } else {
        console.error('Usu√°rio n√£o autenticado. Fa√ßa login para acessar esta p√°gina.');
        alert('Usu√°rio n√£o autenticado. Fa√ßa login para acessar esta p√°gina.');
      }
    });
  </script>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-database.js";
    import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBp0QRdqod_68ARBfJlDfZQBX4sg1Du_o4",
      authDomain: "socialnetwork021-fad5a.firebaseapp.com",
      databaseURL: "https://socialnetwork021-fad5a-default-rtdb.firebaseio.com",
      projectId: "socialnetwork021-fad5a",
      storageBucket: "socialnetwork021-fad5a.appspot.com",
      messagingSenderId: "1040846806964",
      appId: "1:1040846806964:web:b7b873170deeb8ed785ce1",
      measurementId: "G-0NC44RCWV6"
    };

    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth(app);

    // Fun√ß√£o para carregar o fundo do Firebase
    function loadBackground() {
      const backgroundRef = ref(database, 'backgrounds/login'); // Refer√™ncia ao n√≥ "backgrounds/login" no Firebase

      onValue(backgroundRef, (snapshot) => {
        const base64Image = snapshot.val();
        if (base64Image) {
          document.body.style.backgroundImage = `url(${base64Image})`;
          document.body.style.backgroundSize = "cover";
          document.body.style.backgroundRepeat = "no-repeat";
          document.body.style.backgroundAttachment = "fixed";
        } else {
          console.error("Nenhuma imagem de fundo definida no banco de dados.");
        }
      }, (error) => {
        console.error("Erro ao carregar imagem de fundo:", error);
      });
    }

    // Chamar a fun√ß√£o para carregar o fundo ao iniciar
    loadBackground();
    </script>
</body>
</html>
